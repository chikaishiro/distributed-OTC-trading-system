<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html>
<head>
    <title>折线图</title>
</head>

<script type="text/javascript">
    var data = ["5.1","5.1","5.1","5.1","5.1","6.1","6.1","6.1","6.1","6.1"];
    var xAxis = [60,90,120,150,180,210,240,270,300,330];
    var yAxis = [];

    function toVal(data){
        newData = [];
        for(var i=0;i<10;i++){
            var temp = parseFloat(data[i]);
            newData[i] = temp;
        }
        return newData;
    }

    function getMax(list) {
        var flag = -1;
        for(var i =0;i<list.length;i++){
            if(list[i]> flag){
                flag = list[i];
            }
        }
        return flag;
    }

    function getMin(list) {
        var flag = 100000;
        for(var i =0;i<list.length;i++){
            if(list[i]< flag){
                flag = list[i];
            }
        }
        return flag;
    }
    function getXAxis(data) {
        var datas = toVal(data);

        var returnData = [];
        var min = getMin(datas);
        var max = getMax(datas);

        var abs = max-min;
        var times = 300/abs;
        for(var i =0;i<10;i++){
            var tempVal = 350-((datas[i]-min)*times);
            returnData[i] = tempVal;
        }
        return returnData;

    }
    window.onload=function (ev) {
        var canvas=document.getElementById('mc');
        var ctx=canvas.getContext('2d');
        yAxis = getXAxis(data);

        ctx.beginPath();

        //坐标轴
        ctx.moveTo(30,20);
        ctx.lineWidth="1";
        ctx.lineTo(30,380);
        ctx.lineTo(400,380);
        //ctx.closePath();


        //折线
        ctx.strokeStyle="#256";
        ctx.moveTo(xAxis[0],axis[0]);
        ctx.fillText(data[0],xAxis[0],yAxis[0])
        for(var i=1;i<10;i++){
            ctx.lineTo(xAxis[i],yAxis[i]);
            ctx.fillText(data[i],xAxis[i],yAxis[i])
        }


        ctx.stroke();
    }
    function f() {

    }

</script>

<body>
<h2>折线图</h2>
<canvas id="mc" width="500" height="400" style="border:1px solid black"></canvas>
<button onclick="f()">..</button>


</body>
</html>